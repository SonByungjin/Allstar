{"ast":null,"code":"var _jsxFileName = \"/home/user/\\uBC14\\uD0D5\\uD654\\uBA74/wecode/project/converse/12-Allstar-frontend/src/Pages/ProductList/ProductList.js\";\nimport React from \"react\";\nimport ProductMainImage from \"./ProductMainImage\";\nimport FilterVerticalBar from \"./Components/FilterVerticalBar/FilterVerticalBar\";\nimport ProductContainer from \"./Components/ProductContainer/ProductContainer\";\nimport FilterHorizontalBar from \"./Components/FilterHorizontalBar/FilterHorizontalBar\";\nimport \"./ProductList.scss\";\nexport class ProductList extends React.Component {\n  constructor() {\n    super();\n\n    this.handleFilter = () => {\n      this.setState({\n        hideFilterVaild: !this.state.hideFilterVaild\n      });\n    };\n\n    this.infiniteScroll = () => {\n      let scrollHeight = Math.max(document.documentElement.scrollHeight, document.body.scrollHeight);\n      let scrollTop = Math.max(document.documentElement.scrollTop, document.body.scrollTop);\n      let clientHeight = document.documentElement.clientHeight;\n      console.log(scrollTop + clientHeight, scrollHeight);\n\n      if (scrollTop + clientHeight >= scrollHeight) {\n        this.setState({\n          preItems: this.state.items,\n          items: this.state.items + 14\n        });\n        this.handleItemCount();\n      }\n    };\n\n    this.handleItemCount = () => {\n      if (this.state.preItems === this.state.products.length) {\n        this.setState({\n          loadingStatus: !this.state.loadingStatus\n        }, () => {\n          fetch(\"/data/ProductList/Products.json\") // fetch(\"http://10.58.3.39:8000/product/shose\")\n          .then(res => res.json()).then(res => {\n            // 무한스크롤 기능 확인을 위한 임의 함수\n            // let result = res.products.slice(\n            //   this.state.preItems,\n            //   this.state.items\n            // );\n            // 실제\n            // let result = res.products\n            setTimeout(() => this.setState({\n              loadingStatus: !this.state.loadingStatus\n            }, () => {\n              this.setState({\n                // products: [...this.state.products, ...result],\n                products: res.products\n              });\n            }), 1000);\n            window.addEventListener(\"scroll\", this.infiniteScroll);\n          });\n        });\n      }\n    };\n\n    this.fixedImage = (colorEl, idx) => {\n      console.log(colorEl);\n      console.log(idx);\n    };\n\n    this.state = {\n      products: [],\n      hideFilterVaild: false,\n      preItems: 0,\n      items: 14,\n      loadingStatus: false\n    };\n  }\n\n  componentDidMount() {\n    this.handleItemCount();\n  }\n\n  render() {\n    const {\n      products,\n      hideFilterVaild,\n      loadingStatus\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ProductList\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: loadingStatus ? \"loadingImageValid\" : \"loadingImageUnvalid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/images/productList/preloader.gif\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"PromoBanner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, \"banner \\uCEF4\\uD3EC\\uB10C\\uD2B8 \\uC608\\uC815\"), /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"Nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, \"nav \\uCEF4\\uD3EC\\uB10C\\uD2B8 \\uC608\\uC815\"), /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"shoesTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, \"SHOES\"), /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"headerImges\",\n      src: \"https://image.converse.co.kr/cmsstatic/structured-content/15400/D-Converse-SP20-PWH-Best-Sellers-.jpg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(FilterHorizontalBar, {\n      hideFilterValid: hideFilterVaild,\n      handleFilter: this.handleFilter,\n      cnt: products.length,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bottomOfPage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: hideFilterVaild ? \"hideVerticalFilterValild\" : \"hideVerticalFilterUnvalild\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FilterVerticalBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"main\", {\n      className: \"ProductListMain\",\n      className: hideFilterVaild ? \"HideProductListMain\" : \"ProductListMain\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }, products.length > 0 && products.map((product, idx) => {\n      const {\n        id,\n        image_url,\n        series_name,\n        price\n      } = product.main_image;\n      const {\n        color_image\n      } = product;\n      ProductMainImage.MainImg.push({\n        idx: idx,\n        id: id,\n        ImgUrl: image_url\n      });\n      console.log(ProductMainImage);\n      return /*#__PURE__*/React.createElement(ProductContainer, {\n        hideFilterValid: hideFilterVaild,\n        id: id,\n        imgUrl: ProductMainImage.MainImg[idx].ImgUrl,\n        name: series_name,\n        price: price,\n        colorList: color_image,\n        fixedImage: colorEl => this.fixedImage(colorEl, idx),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 19\n        }\n      });\n    }))), /*#__PURE__*/React.createElement(\"footer\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }\n    }, \"footer \\uCEF4\\uD3EC\\uB10C\\uD2B8 \\uC608\\uC815\"));\n  }\n\n}\nexport default ProductList;","map":{"version":3,"sources":["/home/user/바탕화면/wecode/project/converse/12-Allstar-frontend/src/Pages/ProductList/ProductList.js"],"names":["React","ProductMainImage","FilterVerticalBar","ProductContainer","FilterHorizontalBar","ProductList","Component","constructor","handleFilter","setState","hideFilterVaild","state","infiniteScroll","scrollHeight","Math","max","document","documentElement","body","scrollTop","clientHeight","console","log","preItems","items","handleItemCount","products","length","loadingStatus","fetch","then","res","json","setTimeout","window","addEventListener","fixedImage","colorEl","idx","componentDidMount","render","map","product","id","image_url","series_name","price","main_image","color_image","MainImg","push","ImgUrl"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ProductMainImage from \"./ProductMainImage\";\nimport FilterVerticalBar from \"./Components/FilterVerticalBar/FilterVerticalBar\";\nimport ProductContainer from \"./Components/ProductContainer/ProductContainer\";\nimport FilterHorizontalBar from \"./Components/FilterHorizontalBar/FilterHorizontalBar\";\nimport \"./ProductList.scss\";\n\nexport class ProductList extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      products: [],\n      hideFilterVaild: false,\n      preItems: 0,\n      items: 14,\n      loadingStatus: false,\n    };\n  }\n\n  handleFilter = () => {\n    this.setState({\n      hideFilterVaild: !this.state.hideFilterVaild,\n    });\n  };\n\n  infiniteScroll = () => {\n    let scrollHeight = Math.max(\n      document.documentElement.scrollHeight,\n      document.body.scrollHeight\n    );\n    let scrollTop = Math.max(\n      document.documentElement.scrollTop,\n      document.body.scrollTop\n    );\n    let clientHeight = document.documentElement.clientHeight;\n\n    console.log(scrollTop + clientHeight, scrollHeight);\n    if (scrollTop + clientHeight >= scrollHeight) {\n      this.setState({\n        preItems: this.state.items,\n        items: this.state.items + 14,\n      });\n      this.handleItemCount();\n    }\n  };\n\n  handleItemCount = () => {\n    if (this.state.preItems === this.state.products.length) {\n      this.setState(\n        {\n          loadingStatus: !this.state.loadingStatus,\n        },\n        () => {\n          fetch(\"/data/ProductList/Products.json\")\n            // fetch(\"http://10.58.3.39:8000/product/shose\")\n            .then((res) => res.json())\n            .then((res) => {\n              // 무한스크롤 기능 확인을 위한 임의 함수\n              // let result = res.products.slice(\n              //   this.state.preItems,\n              //   this.state.items\n              // );\n\n              // 실제\n              // let result = res.products\n\n              setTimeout(\n                () =>\n                  this.setState(\n                    {\n                      loadingStatus: !this.state.loadingStatus,\n                    },\n                    () => {\n                      this.setState({\n                        // products: [...this.state.products, ...result],\n                        products: res.products,\n                      });\n                    }\n                  ),\n                1000\n              );\n              window.addEventListener(\"scroll\", this.infiniteScroll);\n            });\n        }\n      );\n    }\n  };\n\n  fixedImage = (colorEl, idx) => {\n    console.log(colorEl);\n    console.log(idx);\n  };\n\n  componentDidMount() {\n    this.handleItemCount();\n  }\n\n  render() {\n    const { products, hideFilterVaild, loadingStatus } = this.state;\n    return (\n      <div className=\"ProductList\">\n        <div\n          className={\n            loadingStatus ? \"loadingImageValid\" : \"loadingImageUnvalid\"\n          }\n        >\n          <img src=\"/images/productList/preloader.gif\" />\n        </div>\n\n        <div className=\"PromoBanner\">banner 컴포넌트 예정</div>\n        <nav className=\"Nav\">nav 컴포넌트 예정</nav>\n        <header>\n          <span className=\"shoesTitle\">SHOES</span>\n          <img\n            alt=\"headerImges\"\n            src=\"https://image.converse.co.kr/cmsstatic/structured-content/15400/D-Converse-SP20-PWH-Best-Sellers-.jpg\"\n          />\n        </header>\n        <FilterHorizontalBar\n          hideFilterValid={hideFilterVaild}\n          handleFilter={this.handleFilter}\n          cnt={products.length}\n        />\n        <div className=\"bottomOfPage\">\n          <div\n            className={\n              hideFilterVaild\n                ? \"hideVerticalFilterValild\"\n                : \"hideVerticalFilterUnvalild\"\n            }\n          >\n            <FilterVerticalBar />\n          </div>\n          <main\n            className=\"ProductListMain\"\n            className={\n              hideFilterVaild ? \"HideProductListMain\" : \"ProductListMain\"\n            }\n          >\n            {products.length > 0 &&\n              products.map((product, idx) => {\n                const {\n                  id,\n                  image_url,\n                  series_name,\n                  price,\n                } = product.main_image;\n                const { color_image } = product;\n                ProductMainImage.MainImg.push({\n                  idx: idx,\n                  id: id,\n                  ImgUrl: image_url,\n                });\n                console.log(ProductMainImage);\n                return (\n                  <ProductContainer\n                    hideFilterValid={hideFilterVaild}\n                    id={id}\n                    imgUrl={ProductMainImage.MainImg[idx].ImgUrl}\n                    name={series_name}\n                    price={price}\n                    colorList={color_image}\n                    fixedImage={(colorEl) => this.fixedImage(colorEl, idx)}\n                  />\n                );\n              })}\n          </main>\n        </div>\n        <footer>footer 컴포넌트 예정</footer>\n      </div>\n    );\n  }\n}\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}